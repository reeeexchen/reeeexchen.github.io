<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JAVA,Spring Boot,Wechat," />










<meta name="description" content="微信小程序开发 Note-1@ 2018年8月15日 15:46:28  微信小程序是什么是一种全新的连接用户和服务的方式，可以在微信内便捷的获取和传播，同时具有出色的使用体验； 手机端APP的另一种全新的展现形式； 不是HTML5应用； 无须下载过多占用手机内存的app，即开即用； 必备技术栈：HTML，JS，CSS； 不是所有app都适用于小程序； 基于腾讯庞大的社交群体，为原生APP导流；">
<meta name="keywords" content="JAVA,Spring Boot,Wechat">
<meta property="og:type" content="article">
<meta property="og:title" content="Wechat Mini | Note-1">
<meta property="og:url" content="http://yoursite.com/2018/08/15/MicWechat Note-1/index.html">
<meta property="og:site_name" content="REEEEX">
<meta property="og:description" content="微信小程序开发 Note-1@ 2018年8月15日 15:46:28  微信小程序是什么是一种全新的连接用户和服务的方式，可以在微信内便捷的获取和传播，同时具有出色的使用体验； 手机端APP的另一种全新的展现形式； 不是HTML5应用； 无须下载过多占用手机内存的app，即开即用； 必备技术栈：HTML，JS，CSS； 不是所有app都适用于小程序； 基于腾讯庞大的社交群体，为原生APP导流；">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://developers.weixin.qq.com/miniprogram/dev/image/mina-lifecycle.png?t=18081511">
<meta property="og:updated_time" content="2018-08-20T07:01:09.580Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wechat Mini | Note-1">
<meta name="twitter:description" content="微信小程序开发 Note-1@ 2018年8月15日 15:46:28  微信小程序是什么是一种全新的连接用户和服务的方式，可以在微信内便捷的获取和传播，同时具有出色的使用体验； 手机端APP的另一种全新的展现形式； 不是HTML5应用； 无须下载过多占用手机内存的app，即开即用； 必备技术栈：HTML，JS，CSS； 不是所有app都适用于小程序； 基于腾讯庞大的社交群体，为原生APP导流；">
<meta name="twitter:image" content="https://developers.weixin.qq.com/miniprogram/dev/image/mina-lifecycle.png?t=18081511">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/08/15/MicWechat Note-1/"/>





  <title>Wechat Mini | Note-1 | REEEEX</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">REEEEX</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">KEEP GOING</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/15/MicWechat Note-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="REX CHEN">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="REEEEX">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Wechat Mini | Note-1</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-15T00:00:00+08:00">
                2018-08-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="微信小程序开发-Note-1"><a href="#微信小程序开发-Note-1" class="headerlink" title="微信小程序开发 Note-1"></a>微信小程序开发 Note-1</h3><p>@ 2018年8月15日 15:46:28</p>
<hr>
<h4 id="微信小程序是什么"><a href="#微信小程序是什么" class="headerlink" title="微信小程序是什么"></a>微信小程序是什么</h4><p>是一种全新的连接用户和服务的方式，可以在微信内便捷的获取和传播，同时具有出色的使用体验；</p>
<p>手机端APP的另一种全新的展现形式；</p>
<p>不是HTML5应用；</p>
<p>无须下载过多占用手机内存的app，即开即用；</p>
<p>必备技术栈：HTML，JS，CSS；</p>
<p>不是所有app都适用于小程序；</p>
<p>基于腾讯庞大的社交群体，为原生APP导流；</p>
<p>创业公司优先推出小程序，开发成本低；</p>
<p>当作简单的工具使用，需要在APP上频繁的CRUD不适用；</p>
<hr>
<h4 id="小程序注册流程"><a href="#小程序注册流程" class="headerlink" title="小程序注册流程"></a>小程序注册流程</h4><p>邮箱，小程序基本设置，开发者设置；</p>
<h4 id="小程序开发"><a href="#小程序开发" class="headerlink" title="小程序开发"></a>小程序开发</h4><h5 id="hello-world"><a href="#hello-world" class="headerlink" title="hello-world"></a>hello-world</h5><p>下载微信开发工具后，建立快速开发基本模版即可开启第一个小程序项目；</p>
<p>app.js 只有唯一一个；</p>
<p>pages是页面目录；</p>
<p>wxml-html，js-js，wxss-css；</p>
<h5 id="官方demo"><a href="#官方demo" class="headerlink" title="官方demo"></a>官方demo</h5><p><a href="https://developers.weixin.qq.com/miniprogram/dev/demo.html?t=1477656485442" target="_blank" rel="noopener">体验小程序</a></p>
<p>包含了小程序的官方组件以及接口；</p>
<hr>
<h5 id="小程序工程的构成"><a href="#小程序工程的构成" class="headerlink" title="小程序工程的构成"></a>小程序工程的构成</h5><p>基本文件（app.js,app.json,app.wxss）</p>
<p>​    ·app.js 外部全局主要的JS文件，当作一个JS文件的父类</p>
<p>​    ·app.json 全局的配置文件</p>
<p>​    ·app.wxss 全局的页面样式文件</p>
<p>页面文件（Page目录下）</p>
<p>​    `index(index.js，index.wxml，index.wxss，index.json)</p>
<p>​    xxx.js         私有的JS，相当于的子类</p>
<p>​    xxx.json     以json对象形式存在的配置</p>
<p>​    xxx.wxml     页面文件</p>
<p>​    xxx.wxss     私有的页面样式文件</p>
<hr>
<h5 id="第一个小程序demo"><a href="#第一个小程序demo" class="headerlink" title="第一个小程序demo"></a>第一个小程序demo</h5><p>删除部分不需要的文件；</p>
<p>只保留app.js中的部分内容；</p>
<p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener">app.json 配置项列表-window</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"pages"</span>: [</span><br><span class="line">    <span class="string">"pages/imooc/imooc"</span>,</span><br><span class="line">    <span class="string">"pages/index/index"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"window"</span>: &#123;</span><br><span class="line">    <span class="string">"backgroundTextStyle"</span>: <span class="string">"light"</span>,</span><br><span class="line">    <span class="string">"navigationBarBackgroundColor"</span>: <span class="string">"#fff"</span>,</span><br><span class="line">    <span class="string">"navigationBarTitleText"</span>: <span class="string">"WeChat"</span>,</span><br><span class="line">    <span class="string">"navigationBarTextStyle"</span>: <span class="string">"black"</span></span><br><span class="line">  &#125;,</span><br><span class="line">    <span class="string">"tabBar"</span>: &#123;</span><br><span class="line">    <span class="string">"list"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">"pagePath"</span>: <span class="string">"pages/index/index"</span>,</span><br><span class="line">        <span class="string">"text"</span>: <span class="string">"首页"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">在pages，用于描述当前小程序所有页面路径，这是为了让微信客户端知道当前你的小程序页面定义在哪个目；</span><br><span class="line">在pages，设置的第一行，为打开小程序所显示的主页；</span><br><span class="line"></span><br><span class="line">在<span class="built_in">window</span>字段：定义小程序所有页面的顶部背景颜色，文字颜色定义等；</span><br><span class="line"></span><br><span class="line">在tabBar中，暂时为导航栏；</span><br><span class="line">在networkTimeout字段，各类网络请求的超时时间；</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="数据绑定以及CSS文件"><a href="#数据绑定以及CSS文件" class="headerlink" title="数据绑定以及CSS文件"></a>数据绑定以及CSS文件</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"txt-css"</span>&gt;</span>&#123;&#123;mydata&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">&#123;&#123;xxx&#125;&#125; 数据绑定的用法；</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="comment">//获取应用实例</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    mydata: <span class="string">'Data Bind'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//index.wxss</span><br><span class="line"><span class="selector-class">.txt-css</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">150</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//外部css文件导入 以及 内联样式</span><br><span class="line">@<span class="keyword">import</span> <span class="string">"out.wxss"</span>;</span><br><span class="line"><span class="selector-class">.txt-css</span>&#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">150</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line">// out.wxss</span><br><span class="line"><span class="selector-class">.txt-left</span>&#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">350</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;!<span class="selector-tag">--index</span><span class="selector-class">.wxml--</span>&gt;</span><br><span class="line">&lt;view class="container"&gt;</span><br><span class="line">  &lt;text class="txt-css txt-left" style="color:&#123;&#123;color&#125;&#125;;"&gt;&#123;&#123;mydata&#125;&#125;&lt;/text&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line"></span><br><span class="line">//index.js</span><br><span class="line">//获取应用实例</span><br><span class="line"><span class="selector-tag">Page</span>(&#123;</span><br><span class="line">  <span class="attribute">data</span>: &#123;</span><br><span class="line">    mydata: <span class="string">'Data Bind'</span>,</span><br><span class="line">    color:  <span class="string">"red"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="selector-tag">onLoad</span><span class="selector-pseudo">:function()</span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="小程序页面加载"><a href="#小程序页面加载" class="headerlink" title="小程序页面加载"></a>小程序页面加载</h5><p>默认加载pages中的第一个目录；</p>
<p>其他目录需要通过触发才能加载；</p>
<hr>
<h5 id="小程序APP的生命周期"><a href="#小程序APP的生命周期" class="headerlink" title="小程序APP的生命周期"></a>小程序APP的生命周期</h5><p>onLaunch：初始化事件，只被执行一次；</p>
<p>onShow：随着onLaunch触发，打开到小程序前台触发的事件；</p>
<p>onHide：小程序随着前台到后台的转变，隐藏到后台的触发事件；</p>
<p>onError：抛出异常时触发的事件；</p>
<p>其他：开发人员定义的事件；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"触发onLaunch"</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"触发onShow"</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Do something when hide.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onError: <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(msg)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: <span class="string">'I am global data'</span>,</span><br><span class="line">  courseName: <span class="string">'小程序'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局的 getApp() 函数可以用来获取到小程序实例</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    mydata: <span class="string">'imooc Bind'</span>,</span><br><span class="line">    color: <span class="string">"green"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> appInstance = getApp()</span><br><span class="line">    <span class="built_in">console</span>.log(appInstance.courseName)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      mydata: appInstance.courseName</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="手机端的远程调试"><a href="#手机端的远程调试" class="headerlink" title="手机端的远程调试"></a>手机端的远程调试</h4><p>进行手机上的远程调试（debug）时，需要在创建工程时，填上AppID；</p>
<p>使用手机扫描小程序开发根据提供的预览和远程调试的功能；</p>
<hr>
<h4 id="私有页面的生命周期以及导航"><a href="#私有页面的生命周期以及导航" class="headerlink" title="私有页面的生命周期以及导航"></a>私有页面的生命周期以及导航</h4><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html#pageprototyperoute" target="_blank" rel="noopener">注册页面，生命周期回调函数</a></p>
<p>onLoad(Object query)    页面加载时触发</p>
<p>onShow()            页面显示/切入前台时触发</p>
<p>onReady()            页面初次渲染完成时触发</p>
<p>onHide()                页面隐藏/切入后台时触发</p>
<p>onUnload()            页面卸载时触发</p>
<p>关于onHide和onUnload，联系到两个API wx.redirectTo(OBJECT) 和 wx.navigateTo(OBJECT)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在页面中写入一个clickMe的点击事件；</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  clickMe:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url: <span class="string">'../index/index'</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">	wx.redirectTo(&#123;</span><br><span class="line">      url: <span class="string">'../index/index'</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 注意事项1 url的路径问题，明确相对路径和绝对路径；</span></span><br><span class="line"><span class="comment">// 当跳转当另一页面，点击返回时，只触发了onShow事件，没有触发onLaunch和onReady事件；</span></span><br><span class="line"><span class="comment">// redirectTo事件，触发onUnload事件；</span></span><br><span class="line"><span class="comment">// 注意事项2 减少使用navigateTo，防止onHide消耗过多的资源；</span></span><br></pre></td></tr></table></figure>
<p><img src="https://developers.weixin.qq.com/miniprogram/dev/image/mina-lifecycle.png?t=18081511" alt=""></p>
<hr>
<h4 id="小程序的事件触发"><a href="#小程序的事件触发" class="headerlink" title="小程序的事件触发"></a>小程序的事件触发</h4><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank" rel="noopener">事件</a></p>
<p>通过行为进行的人机交互的方式；</p>
<p>类似html中<code>onClick</code>和<code>onChange</code>事件等；</p>
<p>如<code>bindtap</code>，当用户点击该组件的时候会在该页面对应的Page中找到相应的事件处理函数。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- event.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">"tapTest"</span> <span class="attr">bindtap</span>=<span class="string">"clickMe"</span>&gt;</span> Click me! <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// event.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  clickMe: <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Click Me Was Clicked"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="事件分类"><a href="#事件分类" class="headerlink" title="事件分类"></a>事件分类</h5><p>事件分为<code>冒泡事件</code>和<code>非冒泡事件</code></p>
<p>​    ·冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递；</p>
<p>​    ·非冒泡事件：当一个组件上的事件被触发后，该事件不会向父节点传递；</p>
<hr>
<h4 id="小程序的模块化"><a href="#小程序的模块化" class="headerlink" title="小程序的模块化"></a>小程序的模块化</h4><p>抽离通用方法作为通用函数；</p>
<p>构建<code>utils-common</code>类；</p>
<p>可以将一些公共的代码抽离成为一个单独的 js 文件，作为一个模块。模块只有通过 <code>module.exports</code> 或者 <code>exports</code> 才能对外暴露接口；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// common.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + name + <span class="string">'!'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayGoodbye</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Goodbye <span class="subst">$&#123;name&#125;</span> !`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 区别单引号''和反引号``</span></span><br><span class="line"><span class="built_in">module</span>.exports.sayHello = sayHello</span><br><span class="line">exports.sayGoodbye = sayGoodbye</span><br></pre></td></tr></table></figure>
<p>在需要使用这些模块的文件中，使用 <code>require(path)</code> 将公共代码引入 ；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> common = <span class="built_in">require</span>(<span class="string">'common.js'</span>)</span><br><span class="line">Page(&#123;</span><br><span class="line">  helloMINA: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    common.sayHello(<span class="string">'MINA'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  goodbyeMINA: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    common.sayGoodbye(<span class="string">'MINA'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="视图层——数据绑定"><a href="#视图层——数据绑定" class="headerlink" title="视图层——数据绑定"></a>视图层——数据绑定</h4><p>HTML中，JQuery dom操作 $选择器；</p>
<p>WX中，通过数据绑定 类似于vue/react，通过Mustache表达式；</p>
<p>作用范围：内容，组件属性（双引号内），控制属性（双引号内），关键字（双引号内）；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/dataBind/dataBind.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'container'</span> <span class="attr">id</span>=<span class="string">"myid-&#123;&#123;testid&#125;&#125;"</span>&gt;</span></span><br><span class="line">&#123;&#123;msg&#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>&gt;</span> <span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;false&#125;&#125;"</span>&gt;</span> <span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;flag&#125;&#125;"</span>&gt;</span> <span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">checkbox</span> <span class="attr">checked</span>=<span class="string">"&#123;&#123;unflag&#125;&#125;"</span>&gt;</span> <span class="tag">&lt;/<span class="name">checkbox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/dataBind/dataBind.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    msg:<span class="string">"这是一个msg"</span>,</span><br><span class="line">    testid:<span class="number">1001</span>,</span><br><span class="line">    flag:<span class="literal">true</span>,</span><br><span class="line">    unflag:<span class="literal">false</span>,</span><br><span class="line">    a:<span class="number">1</span>,</span><br><span class="line">    b:<span class="number">2</span>,</span><br><span class="line">    c:<span class="number">3</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 三元运算 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">hidden</span>=<span class="string">"&#123;&#123;flag ? true : false&#125;&#125;"</span>&gt;</span> Hidden <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 算数运算 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;a + b&#125;&#125; + &#123;&#123;c&#125;&#125; + d <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">view中的内容为 3 + 3 + d</span><br><span class="line"><span class="comment">&lt;!-- 字符串运算 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;msg + hello + "test"&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">view中内容为 这是一个msghellotest</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;a+b + hello&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">view中内容为 3hello</span><br></pre></td></tr></table></figure>
<h4 id="视图层——列表渲染"><a href="#视图层——列表渲染" class="headerlink" title="视图层——列表渲染"></a>视图层——列表渲染</h4><p>wx:key</p>
<p>如果列表中项目的位置会动态改变或者有新的项目添加到列表中，并且希望列表中的项目保持自己的特征和状态</p>
<p><code>wx:key</code> 的值以两种形式提供</p>
<ol>
<li>字符串，代表在 for 循环的 array 中 item 的某个 property，该 property 的值需要是列表中唯一的字符串或数字，且不能动态改变。</li>
<li>保留关键字 <code>*this</code> 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字，如：</li>
</ol>
<p>当数据改变触发渲染层重新渲染的时候，会校正带有 key 的组件，框架会确保他们被重新排序，而不是重新创建，以确保使组件保持自身的状态，并且提高列表渲染时的效率</p>
<h4 id="视图层——条件渲染"><a href="#视图层——条件渲染" class="headerlink" title="视图层——条件渲染"></a>视图层——条件渲染</h4><h5 id="wx-if"><a href="#wx-if" class="headerlink" title="wx:if"></a>wx:if</h5><p>在框架中，使用 <code>wx:if=&quot;&quot;</code> 来判断是否需要渲染该代码块，也可以用 <code>wx:elif</code> 和 <code>wx:else</code> 来添加一个 else 块：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:if=&quot;&#123;&#123;length &gt; 5&#125;&#125;&quot;&gt; 1 &lt;/view&gt;</span><br><span class="line">&lt;view wx:elif=&quot;&#123;&#123;length &gt; 2&#125;&#125;&quot;&gt; 2 &lt;/view&gt;</span><br><span class="line">&lt;view wx:else&gt; 3 &lt;/view&gt;</span><br></pre></td></tr></table></figure>
<h5 id="block-wx-if"><a href="#block-wx-if" class="headerlink" title="block wx:if"></a>block wx:if</h5><p>因为 <code>wx:if</code> 是一个控制属性，需要将它添加到一个标签上。如果要一次性判断多个组件标签，可以使用一个 <code>&lt;block/&gt;</code> 标签将多个组件包装起来，并在上边使用 <code>wx:if</code> 控制属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;block wx:if=&quot;&#123;&#123;true&#125;&#125;&quot;&gt;</span><br><span class="line">  &lt;view&gt; view1 &lt;/view&gt;</span><br><span class="line">  &lt;view&gt; view2 &lt;/view&gt;</span><br><span class="line">&lt;/block&gt;</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong> <code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</p>
<h5 id="wx-if-vs-hidden"><a href="#wx-if-vs-hidden" class="headerlink" title="wx:if vs hidden"></a><code>wx:if</code> vs <code>hidden</code></h5><p>因为 <code>wx:if</code> 之中的模板也可能包含数据绑定，所以当 <code>wx:if</code> 的条件值切换时，框架有一个局部渲染的过程，因为它会确保条件块在切换时销毁或重新渲染。</p>
<p>同时 <code>wx:if</code> 也是<strong>惰性的</strong>，如果在初始渲染条件为 <code>false</code>，框架什么也不做，在条件第一次变成真的时候才开始局部渲染</p>
<p>相比之下，<code>hidden</code> 就简单的多，组件始终会被渲染，只是简单的控制显示与隐藏</p>
<p>一般来说，<code>wx:if</code> 有更高的切换消耗而 <code>hidden</code> 有更高的初始渲染消耗。因此，如果需要频繁切换的情景下，用 <code>hidden</code> 更好，如果在运行时条件不大可能改变则 <code>wx:if</code> 较好</p>
<hr>
<h4 id="通用模板的使用"><a href="#通用模板的使用" class="headerlink" title="通用模板的使用"></a>通用模板的使用</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 定义模板</span></span><br><span class="line"><span class="comment">使用 name 属性，作为模板的名字。然后在&lt;template/&gt;内定义代码片段--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">"mytemp"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>姓名：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>年龄：&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>地址：&#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>备注：&#123;&#123;remark&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 使用模板</span></span><br><span class="line"><span class="comment">is 属性，声明需要的使用的模板，然后将模板所需要的 data 传入</span></span><br><span class="line"><span class="comment">is 属性可以使用 Mustache 语法，来动态决定具体需要渲染哪个模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'container'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"mytemp"</span> <span class="attr">data</span>=<span class="string">"&#123;&#123;...person,msg,name:'rex',age:'18'&#125;&#125;"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"mytemp"</span> <span class="attr">data</span>=<span class="string">"&#123;&#123;...person,msg,name:'rex',age:'18'&#125;&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--temp.js--&gt;</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    person:&#123;</span><br><span class="line">      address:"BEIJING",</span><br><span class="line">      remark:"This is a Template"</span><br><span class="line">    &#125;,</span><br><span class="line">    msg:"This is a Msg"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="wxs模块——页面引用-模块调用模块"><a href="#wxs模块——页面引用-模块调用模块" class="headerlink" title="wxs模块——页面引用/模块调用模块"></a>wxs模块——页面引用/模块调用模块</h4><p>WXS（WeiXin Script）是小程序的一套脚本语言，结合 WXML，可以构建出页面的结构；</p>
<p>wxs 不依赖于运行时的基础库版本，可以在所有版本的小程序中运行；<br>wxs 与 javascript 是不同的语言，有自己的语法，并不和 javascript 一致；<br>wxs 的运行环境和其他 javascript 代码是隔离的，wxs 中不能调用其他 javascript 文件中定义的函数，也不能调用小程序提供的API；<br>wxs 函数不能作为组件的事件回调；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// module.wxs</span></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="built_in">require</span>(<span class="string">"../wxs/num2.wxs"</span>);</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'imooc'</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> method = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(num2.name);</span><br><span class="line">  <span class="built_in">console</span>.log(num2.age);</span><br><span class="line">  <span class="built_in">console</span>.log(num2.method(<span class="string">"num2"</span>));</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  name: name,</span><br><span class="line">  age: age,</span><br><span class="line">  method: method</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// num2.wxs</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">'imooc2'</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> method = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  name: name,</span><br><span class="line">  age: age,</span><br><span class="line">  method: method</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// wxs.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 页面级别的引用 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">wxs</span> <span class="attr">src</span>=<span class="string">"../wxs/module.wxs"</span> <span class="attr">module</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">wxs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item.age&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;item.method("这是一个参数")&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h4 id="模版的外部引用"><a href="#模版的外部引用" class="headerlink" title="模版的外部引用"></a>模版的外部引用</h4><p>模版在某个wxml中定义完毕后，可以被其他页面引用；</p>
<p>关键字import；</p>
<p>import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template，即不支持间接传递引用（A引用B，B引用C，A不能引用C）； </p>
<p>WXML 提供两种文件引用方式<code>import</code>和<code>include</code>；</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"container"</span>&gt;</span><br><span class="line">&lt;!-- 模版的外部引用 --&gt;</span><br><span class="line">  &lt;<span class="keyword">import</span> src=<span class="string">"../temp/temp.wxml"</span>/&gt;</span><br><span class="line">  &lt;template is=<span class="string">"mytemp"</span> data=<span class="string">"&#123;&#123;name:'imooc',age:'18',...person,msg&#125;&#125;"</span>/&gt;</span><br><span class="line">&lt;/view&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="页面引用外部wxml通用页面"><a href="#页面引用外部wxml通用页面" class="headerlink" title="页面引用外部wxml通用页面"></a>页面引用外部wxml通用页面</h4><p>HTML页面常分为Header，Body，Footer；</p>
<p>定义通用的Header和Footer；</p>
<p>关键字include；</p>
<p><code>include</code> 可以将目标文件<strong>除了</strong> <code>&lt;template/&gt;</code> <code>&lt;wxs/&gt;</code> 外的整个代码引入，相当于是拷贝到 <code>include</code> 位置；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">"header.wxml"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> body <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">"footer.wxml"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- header.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> header <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- footer.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> footer <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>@ 2018年8月15日 20:41:52</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JAVA/" rel="tag"># JAVA</a>
          
            <a href="/tags/Spring-Boot/" rel="tag"># Spring Boot</a>
          
            <a href="/tags/Wechat/" rel="tag"># Wechat</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/10/Spring Cloud Note-8/" rel="next" title="Spring Cloud | Note-8">
                <i class="fa fa-chevron-left"></i> Spring Cloud | Note-8
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/08/15/Spring Cloud Note-9/" rel="prev" title="Spring Cloud | Note-9">
                Spring Cloud | Note-9 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">REX CHEN</p>
              <p class="site-description motion-element" itemprop="description">日常记录</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">38</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#微信小程序开发-Note-1"><span class="nav-number">1.</span> <span class="nav-text">微信小程序开发 Note-1</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#微信小程序是什么"><span class="nav-number">1.1.</span> <span class="nav-text">微信小程序是什么</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小程序注册流程"><span class="nav-number">1.2.</span> <span class="nav-text">小程序注册流程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小程序开发"><span class="nav-number">1.3.</span> <span class="nav-text">小程序开发</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#hello-world"><span class="nav-number">1.3.1.</span> <span class="nav-text">hello-world</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#官方demo"><span class="nav-number">1.3.2.</span> <span class="nav-text">官方demo</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#小程序工程的构成"><span class="nav-number">1.3.3.</span> <span class="nav-text">小程序工程的构成</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#第一个小程序demo"><span class="nav-number">1.3.4.</span> <span class="nav-text">第一个小程序demo</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#数据绑定以及CSS文件"><span class="nav-number">1.3.5.</span> <span class="nav-text">数据绑定以及CSS文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#小程序页面加载"><span class="nav-number">1.3.6.</span> <span class="nav-text">小程序页面加载</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#小程序APP的生命周期"><span class="nav-number">1.3.7.</span> <span class="nav-text">小程序APP的生命周期</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#手机端的远程调试"><span class="nav-number">1.4.</span> <span class="nav-text">手机端的远程调试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#私有页面的生命周期以及导航"><span class="nav-number">1.5.</span> <span class="nav-text">私有页面的生命周期以及导航</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小程序的事件触发"><span class="nav-number">1.6.</span> <span class="nav-text">小程序的事件触发</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#事件分类"><span class="nav-number">1.6.1.</span> <span class="nav-text">事件分类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小程序的模块化"><span class="nav-number">1.7.</span> <span class="nav-text">小程序的模块化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#视图层——数据绑定"><span class="nav-number">1.8.</span> <span class="nav-text">视图层——数据绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#视图层——列表渲染"><span class="nav-number">1.9.</span> <span class="nav-text">视图层——列表渲染</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#视图层——条件渲染"><span class="nav-number">1.10.</span> <span class="nav-text">视图层——条件渲染</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#wx-if"><span class="nav-number">1.10.1.</span> <span class="nav-text">wx:if</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#block-wx-if"><span class="nav-number">1.10.2.</span> <span class="nav-text">block wx:if</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#wx-if-vs-hidden"><span class="nav-number">1.10.3.</span> <span class="nav-text">wx:if vs hidden</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#通用模板的使用"><span class="nav-number">1.11.</span> <span class="nav-text">通用模板的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#wxs模块——页面引用-模块调用模块"><span class="nav-number">1.12.</span> <span class="nav-text">wxs模块——页面引用/模块调用模块</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模版的外部引用"><span class="nav-number">1.13.</span> <span class="nav-text">模版的外部引用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#页面引用外部wxml通用页面"><span class="nav-number">1.14.</span> <span class="nav-text">页面引用外部wxml通用页面</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">REX CHEN</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
